## 开灯和关灯问题

【题目】

有编号1~100个灯泡，起初所有的灯都是灭的。有100个同学来按灯泡开关，如果灯是亮的，那么按过开关之后，灯会灭掉。如果灯是灭的，按过开关之后灯会亮。

现在开始按开关。

第 1 个同学，把所有的灯泡开关都按一次（按开关灯的编号：1,2,3,......100）。

第 2 个同学，隔一个灯按一次（按开关灯的编号：2,4,6,......,100）。

第 3 个同学，隔两个灯按一次（按开关灯的编号：3,6,9,......,99）。

......

问题是，在第100个同学按过之后，有多少盏灯是亮着的？

### 解决思路

**方法一**：

Light 1 只会被第1个同学按；

Light 2 只会被第1个同学和第2个同学按；

Light 3 只会被第1个同学和第3个同学按；

Light 4 只会被第1个同学、第2个同学以及第4个同学按；

……

Light N 只会被第1个同学、……、第N个同学按；

找到规律了吗？没错，这是一个简单的因式分解题，只需要求 该序号N 能被哪些数整除？

```javascript
function getCount(num) {
    let count = 0; // 因子个数
    for(let i = 1; i < num; i++) {
        if(0 == num % i) {
            count++;
        }
    }
    return count;
}
```

计算因子个数，因子个数为偶数个，灯是灭的。

**方法二**：

接着上面来看，什么样的编号具有奇数个因子，什么样的编号具有偶数个因子？来看 质因数分解的定理：

`任何正数都能被唯一表示成多个质因数幂次乘积的方式。`

36 ＝ 2^2 * 3^2（2、3、6）

64 ＝ 2^3 * 2^3 （2、4、8、16、32）

99 ＝ 3^2 * 11    (3、9、33、11)

我们得到结论，只有指数和为偶数次的 其因子才会是奇数个，那么满足这个条件的是哪些呢？

`须满足完全平方数。`

<details>
<summary>我们得到结论</summary>

1~100中完全平方数有 1, 4, 9, 16, 25, 36, 49, 64, 81, 100 ，这10个编号的灯是亮着的。
</details>

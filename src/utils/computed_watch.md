## 计算属性和监听属性

来源：https://juejin.im/post/5d01a81d51882559ef78e498

### 计算属性

计算属性是自动监听依赖值的变化，从而动态返回内容，监听是一个过程，在监听的值变化时，可以触发一个回调，并做一些事情。它有以下几个特点：

- 数据可以进行逻辑处理，减少模版中计算逻辑。
- 对计算属性中的数据进行监视
- 依赖固定的数据类型（响应式数据）

computed可以缓存。

### 侦听属性

vue提供了一种更通用的方式来观察和响应vue实例上的数据变动：侦听属性watch。**watch中可以执行任何逻辑，如函数节流，Ajax异步获取数据，甚至操作DOM(不建议)**。

### 两者的区别

- watch：检测的是属性值，只要属性值发生变化，其都会触发执行回调函数来执行一系列操作。
- computed: 监测的是依赖值，依赖值不变的情况下其会直接读取缓存进行复用，变化的情况下才会重新计算。

除此之外，有点很重要的区别：**计算属性不能执行异步操作，计算属性必须同步执行。**也就是说计算属性不能向服务器请求或执行异步任务。如果遇到到异步任务，就交给侦听属性。watch也可以检测computed属性。

### 总结

计算属性适合用在模版渲染中，某个值是依赖了其它响应式对象计算而来；而侦听属性使用于观察某个值的变化去完成一段复杂的业务逻辑。

- computed能做的，watch也能做，反之则不行
- 能用computed的尽量用computed

